# Copyright 2017 HM Revenue & Customs
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

test-esc {
  months-upper-limit = 100,
  months-lower-limit = 0,
  periods-lower-limit = 1,
  tax-years-lower-limit = 1,
  claimants-lower-limit = 1,

  pre-2011-maximum-exemption {
    basic-higher-additional {
      monthly = 243.00
    }
  },
  rule-change = [
    {
      rule-date = 06-04-2017,
      default-ni-code = A,
      post-2011-maximum-exemption {
        basic {
          monthly = 243.00
        },
        higher {
          monthly = 124.00
        },
        additional {
          monthly = 110.00
        }
      },
      tax {
        default-tax-code = 1100L,
        personal-allowance{
          rate = 0.00,
          default-personal-allowance = 11000
        },
        basic {
          rate = 20.00,
          band-capacity-annual-amount = 32000.00
        },
        higher {
          rate = 40.00,
          band-annual-upper-limit = 150000.00
        },
        additional {
          rate = 45.00,
          band-annual-lower-limit = 150000.01
        }
      },
      niCategories = [
        {
          ni-cat-code = A,
          LEL{
            monthly-lower-limit = 0.00,
            monthly-upper-limit = 485.00,
            rate = 0.00
          },
          LEL-PT {
            monthly-lower-limit = 486.00,
            monthly-upper-limit = 672.00,
            rate = 0.00
          },
          PT-UAP {
            monthly-lower-limit = 673.00,
            monthly-upper-limit = 3337.00,
            rate = 12.00
          },
          UAP-UEL {
            monthly-lower-limit = 3338.00,
            monthly-upper-limit = 3583.00,
            rate = 12.00
          },
          above-UEL {
            monthly-lower-limit = 3584.00,
            rate = 2.00
          }
        },
        {
          ni-cat-code = C,
          LEL{
            monthly-lower-limit = 0.00,
            monthly-upper-limit = 485.00,
            rate = 0.00
          },
          LEL-PT {
            monthly-lower-limit = 486.00,
            monthly-upper-limit = 672.00,
            rate = 0.00
          },
          PT-UAP {
            monthly-lower-limit = 673.00,
            monthly-upper-limit = 3337.00,
            rate = 0.00
          },
          UAP-UEL {
            monthly-lower-limit = 3338.00,
            monthly-upper-limit = 3583.00,
            rate = 0.00
          },
          above-UEL {
            monthly-lower-limit = 3584.00,
            rate = 0.00
          }
        }
      ]
    },
    {
      rule-date = 06-04-2016,
      default-ni-code = A,
      post-2011-maximum-exemption {
        basic {
          monthly = 243.00
        },
        higher {
          monthly = 124.00
        },
        additional {
          monthly = 110.00
        }
      },
      tax {
        default-tax-code = 1100L,
        personal-allowance{
          rate = 0.00,
          default-personal-allowance = 11000
        },
        basic {
          rate = 20.00,
          band-capacity-annual-amount = 32000.00
        },
        higher {
          rate = 40.00,
          band-annual-upper-limit = 150000.00
        },
        additional {
          rate = 45.00,
          band-annual-lower-limit = 150000.01
        }
      },
      niCategories = [
        {
          ni-cat-code = A,
          LEL{
            monthly-lower-limit = 0.00,
            monthly-upper-limit = 485.00,
            rate = 0.00
          },
          LEL-PT {
            monthly-lower-limit = 486.00,
            monthly-upper-limit = 672.00,
            rate = 0.00
          },
          PT-UAP {
            monthly-lower-limit = 673.00,
            monthly-upper-limit = 3337.00,
            rate = 12.00
          },
          UAP-UEL {
            monthly-lower-limit = 3338.00,
            monthly-upper-limit = 3583.00,
            rate = 12.00
          },
          above-UEL {
            monthly-lower-limit = 3584.00,
            rate = 2.00
          }
        },
        {
          ni-cat-code = B,
          LEL{
            monthly-lower-limit = 0.00,
            monthly-upper-limit = 485.00,
            rate = 0.00
          },
          LEL-PT {
            monthly-lower-limit = 486.00,
            monthly-upper-limit = 672.00,
            rate = 0.00
          },
          PT-UAP {
            monthly-lower-limit = 673.00,
            monthly-upper-limit = 3337.00,
            rate = 5.85
          },
          UAP-UEL {
            monthly-lower-limit = 3338.00,
            monthly-upper-limit = 3583.00,
            rate = 5.85
          },
          above-UEL {
            monthly-lower-limit = 3584.00,
            rate = 2.00
          }
        },
        {
          ni-cat-code = C,
          LEL{
            monthly-lower-limit = 0.00,
            monthly-upper-limit = 485.00,
            rate = 0.00
          },
          LEL-PT {
            monthly-lower-limit = 486.00,
            monthly-upper-limit = 672.00,
            rate = 0.00
          },
          PT-UAP {
            monthly-lower-limit = 673.00,
            monthly-upper-limit = 3337.00,
            rate = 0.00
          },
          UAP-UEL {
            monthly-lower-limit = 3338.00,
            monthly-upper-limit = 3583.00,
            rate = 0.00
          },
          above-UEL {
            monthly-lower-limit = 3584.00,
            rate = 0.00
          }
        }
      ]
    },
    {
      rule-date = default,
      default-ni-code = A,
      post-2011-maximum-exemption {
        basic {
          monthly = 243.00
        },
        higher {
          monthly = 124.00
        },
        additional {
          monthly = 110.00
        }
      },
      tax {
        default-tax-code = 1100L,
        personal-allowance{
          rate = 0.00,
          default-personal-allowance = 11000
        },
        basic {
          rate = 20.00,
          band-capacity-annual-amount = 32000.00
        },
        higher {
          rate = 40.00,
          band-annual-upper-limit = 150000.00
        },
        additional {
          rate = 45.00,
          band-annual-lower-limit = 150000.01
        }
      },
      niCategories = [
        {
          ni-cat-code = A,
          LEL{
            monthly-lower-limit = 0.00,
            monthly-upper-limit = 485.00,
            rate = 0.00
          },
          LEL-PT {
            monthly-lower-limit = 486.00,
            monthly-upper-limit = 672.00,
            rate = 0.00
          },
          PT-UAP {
            monthly-lower-limit = 673.00,
            monthly-upper-limit = 3337.00,
            rate = 12.00
          },
          UAP-UEL {
            monthly-lower-limit = 3338.00,
            monthly-upper-limit = 3583.00,
            rate = 12.00
          },
          above-UEL {
            monthly-lower-limit = 3584.00,
            rate = 2.00
          }
        },
        {
          ni-cat-code = B,
          LEL{
            monthly-lower-limit = 0.00,
            monthly-upper-limit = 485.00,
            rate = 0.00
          },
          LEL-PT {
            monthly-lower-limit = 486.00,
            monthly-upper-limit = 672.00,
            rate = 0.00
          },
          PT-UAP {
            monthly-lower-limit = 673.00,
            monthly-upper-limit = 3337.00,
            rate = 5.85
          },
          UAP-UEL {
            monthly-lower-limit = 3338.00,
            monthly-upper-limit = 3583.00,
            rate = 5.85
          },
          above-UEL {
            monthly-lower-limit = 3584.00,
            rate = 2.00
          }
        },
        {
          ni-cat-code = C,
          LEL{
            monthly-lower-limit = 0.00,
            monthly-upper-limit = 485.00,
            rate = 0.00
          },
          LEL-PT {
            monthly-lower-limit = 486.00,
            monthly-upper-limit = 672.00,
            rate = 0.00
          },
          PT-UAP {
            monthly-lower-limit = 673.00,
            monthly-upper-limit = 3337.00,
            rate = 0.00
          },
          UAP-UEL {
            monthly-lower-limit = 3338.00,
            monthly-upper-limit = 3583.00,
            rate = 0.00
          },
          above-UEL {
            monthly-lower-limit = 3584.00,
            rate = 0.00
          }
        }
      ]
    }
  ]
}
